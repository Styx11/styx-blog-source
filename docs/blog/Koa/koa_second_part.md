# Koa 源码解析（二）

:::tip 提示
本源码解析参考 [Koa v2.11.0](https://github.com/koajs/koa/tree/2.11.0) 版本代码

**原创文章，转载请联系作者[Styx](https://github.com/Styx11)！**
:::

从这里开始我将正式向你介绍 koa 的源码内容，这篇解析重点关注 koa 在**功能上是怎样运行**的，也就是它如何注册并执行中间件、如何使用默认的错误处理，又是如何返回适用于`http.createServer()`方法的回调函数来处理请求的，到了下一篇我们再看关于上下文`context`的内容。我会先总览 koa 的入口代码让读者又一个大致印象，再从一个简单的例子开始探究它背后的原理。

我将源码的一些内容做精简以关注它主要的内容，其中英文注释是源码作者标注的，中文注释是我额外添加的，这样可以帮助你更好地理解代码。

## 总览

## app.callback()

## koa-compose

## handleResponse()
